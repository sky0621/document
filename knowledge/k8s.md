# コンテナオーケストレーションツール

コンテナの統合管理(コンテナの起動・停止、ホスト間ネットワーク接続、ストレージ管理、コンテナ稼働スケジューリング、監視)

## クラスタリング

複数のサーバを束ねて、利用者や外部のシステムに対して全体で１台のコンピュータであるかのように見せる技術

物理構成を意識せず透過的な管理が可能

１台のサーバが障害停止してもシステム全体が止まることはない

- コールドスタンバイ

- ホットスタンバイ

## ネットワーク

それぞれのノードで起動するコンテナは、専用の内部ネットワーク（ツールとしてFlannelがよく使われるが、GKEでは独自の高速内部ネットワークが利用される）に接続

※トンネリング技術を用いてオーバーレイ方式（既存のネットワークの上に仮想的なLANを作る）で用意

# 構成

## マスターサーバ(1個)

クラスタ内のコンテナ操作用サーバ(kubectlコマンドを持つ)

## ノード(N個)

Dockerコンテナ稼働サーバ

## バックエンドDB(etcd)

クラスタ構成情報管理サーバ(KVS)

## レジストリサーバ(Docker Registry)

Dockerイメージ管理サーバ

# 概念

## Pod …ノードの中にN個

仮想NIC(プライベートIP)を共有するコンテナ群をまとめたもの

Pod内はlocalhost経由の通信、共有ディレクトリ使用可能

## Replication Controller

同一構成Podを指定数起動させる

負荷分散用途など

## Service

起動中の複数のPodをまとめる

Serviceを定義することで、外部からアクセス可能なIP(Cluster IPとExternal IP)が付与される
